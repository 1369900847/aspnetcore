@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication.Infrastructure
@OnSignOut(BeginSignOut)
@code {

    [Parameter] public RenderFragment<Func<MouseEventArgs,Task>> OnSignOut { get; set; }

    [Inject] public SignOutSessionStateManager SignOutManager { get; set; }

    [Inject] public NavigationManager Navigation { get; set; }

    [Inject] public IRemoteAuthenticationPathsProvider Paths { get; set; }

    public async Task BeginSignOut(MouseEventArgs args)
    {
        await SignOutManager.SetSignOutState();
        Navigation.NavigateTo(Paths.ApplicationPaths.LogOutPath);
    }
}
